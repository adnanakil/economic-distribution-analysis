<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Who Really Benefits When the U.S. Economy Grows?</title>
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <style>
    /* ---------- Color tokens ---------- */
    :root {
      --bg: #f9fafb;
      --fg: #1f2937;
      --muted: #4b5563;
      --card: #ffffff;
      --shadow: rgba(0, 0, 0, 0.05);
      --accent-labor: #fbbf24;   /* gold */
      --accent-cap:   #f97316;   /* orange */
      --line-labor:  #2563eb;    /* blue */
      --line-cap:    #fb923c;    /* lighter orange */
    }

    /* ---------- Global reset ---------- */
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
      line-height:1.6;
      background:var(--bg);
      color:var(--fg);
      padding: 0 1.25rem 3rem;
    }

    /* ---------- Layout helpers ---------- */
    header, main, footer{max-width: 880px; margin: 0 auto;}

    h1{font-size:clamp(1.7rem,3vw,2.1rem);line-height:1.2;margin:2rem 0 0.3rem}
    h2{font-size:1.25rem;margin:2.2rem 0 0.8rem}
    p{margin:0.9rem 0;}

    .subtitle{color:var(--muted); font-style:italic; font-size:0.95rem;}

    table{width:100%; border-collapse:collapse; margin:1rem 0 2rem 0; font-size:0.9rem;}
    th,td{padding:0.5rem 0.6rem; text-align:left; border-bottom:1px solid #e5e7eb;}
    th{font-weight:600;}

    small{font-size:0.78rem;color:var(--muted)}

    /* ---------- Card/Chart wrapper ---------- */
    .chart-card{
      position:relative;
      height:480px;
      margin:1.8rem 0;
      background:var(--card);
      border-radius:0.75rem;
      box-shadow:0 2px 8px var(--shadow);
    }
    .chart-card > div{position:absolute;inset:0}

    /* ---------- Responsive table wrapper ---------- */
    .table-wrapper{
      overflow-x:auto;
      margin:1rem -1.25rem 2rem;
      padding:0 1.25rem;
    }

    /* ---------- Media Queries ---------- */
    @media (max-width: 768px) {
      body{
        padding: 0 1rem 2rem;
      }
      
      h1{font-size:1.5rem;margin:1.5rem 0 0.3rem}
      h2{font-size:1.1rem;margin:1.8rem 0 0.6rem}
      
      .chart-card{
        height:400px;
        margin:1.2rem 0;
      }
      
      table{font-size:0.85rem;}
      th,td{padding:0.4rem 0.5rem;}
    }
    
    @media (max-width: 480px) {
      .chart-card{
        height:350px;
      }
    }

    /* ---------- Footer ---------- */
    footer{margin-top:4rem; font-size:0.8rem; color:var(--muted)}
  </style>
</head>
<body>

<header>
  <h1>Who Really Benefits When the U.S. Economy Grows?</h1>
  <p class="subtitle">A 20‑year look at how each extra dollar of GDP is split between wages and capital—and what that means <em>per person</em>.</p>
</header>

<main>
  <h2>1. How many people are in each group?</h2>
  <p>The workforce dwarfs the pool of households that capture most capital income. Using the latest Census and BLS counts, only the top decile—about one in ten households—own nearly 90&nbsp;% of corporate equity. The table highlights a few milestones.</p>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr><th>Year</th><th>Employed workers<sup>1</sup></th><th>Households in top&nbsp;10&nbsp;% of wealth<sup>2</sup></th></tr>
      </thead>
      <tbody>
        <tr><td>2005</td><td>146&nbsp;M</td><td>11.3&nbsp;M</td></tr>
        <tr><td>2010</td><td>139&nbsp;M</td><td>11.9&nbsp;M</td></tr>
        <tr><td>2015</td><td>149&nbsp;M</td><td>12.5&nbsp;M</td></tr>
        <tr><td>2020</td><td>148&nbsp;M</td><td>12.8&nbsp;M</td></tr>
        <tr><td>2024</td><td>162&nbsp;M</td><td>13.3&nbsp;M</td></tr>
      </tbody>
    </table>
  </div>
  <small><sup>1</sup> Bureau of Labor Statistics, Current Population Survey (annual average, “Employed, 16&nbsp;+”).<br>
  <sup>2</sup> Census CPS ASEC; top decile = 10&nbsp;% of total households.</small>

  <h2>2. How is the pie split?</h2>
  <p>The stacked bars below show the <strong>annual change</strong> in nominal GDP from 2005‑2024, sliced into labor income (gold) and capital income (orange).</p>
  <div class="chart-card"><div id="barChart"></div></div>

  <h2>3. Dollars per person</h2>
  <p>Translating each slice into dollars <em>per recipient</em> makes the disparity starker. Blue represents the average worker; the dotted orange line is the average household in the wealth top decile.</p>
  <div class="chart-card"><div id="perCapChart"></div></div>

  <h2>4. Wages vs. Productivity: The Growing Gap</h2>
  <p>Even within the labor share, compensation hasn't kept pace with productivity gains. Since 1979, productivity has grown 64.8% while hourly compensation increased only 17.5%, creating a widening wedge between what workers produce and what they earn.</p>
  <div class="chart-card"><div id="productivityChart"></div></div>
  <p><small>Source: U.S. Bureau of Labor Statistics, Real hourly compensation (COMPRNFB) and Labor productivity (OPHNFB), indexed to 1979=100</small></p>

  <h2>5. International Comparison: US vs EU</h2>
  <p>The productivity-wage gap isn't unique to the US. Since 2000, the EU has seen productivity grow by 20.5% while real wages increased by only 15.2%. However, the gap is more pronounced in the US, where productivity gains have far outpaced wage growth.</p>
  <div class="chart-card"><div id="internationalChart"></div></div>
  <p><small>Sources: US data from BLS; EU data from Eurostat (labour productivity per hour worked) and ECB (real compensation per employee)</small></p>

  <h2>6. The Rising Cost of Basic Needs</h2>
  <p>Since 1960, the cost of essential goods has outpaced both overall inflation and wage growth. Housing costs have increased 1,800%, electricity 1,400%, and food 1,100%, while median wages only rose 800%—making basic necessities increasingly unaffordable.</p>
  <div class="chart-card"><div id="cpiChart"></div></div>
  <p><small>Source: U.S. Bureau of Labor Statistics, Consumer Price Index for All Urban Consumers (CPI-U), indexed to 1960=100</small></p>

  <h2>7. Who owns the capital?</h2>
  <p>The concentration of wealth becomes clearer when we examine who actually owns corporate equity and mutual funds. Fed data reveals an ownership pyramid where the top 1% of households control nearly half of all stock market wealth.</p>
  <div class="chart-card"><div id="ownershipChart"></div></div>
  <p><small>Source: Federal Reserve Distributional Financial Accounts (WFRBLT01014, WFRBLT01021, etc.)</small></p>

  <h2>8. Key take‑aways</h2>
  <ol>
    <li><strong>Aggregate split ≈ 50 / 50—but not per head.</strong> In 2023 labor captured 52&nbsp;% of new GDP, yet a worker saw ≈ $5 k while a capital‑owner household reaped ≈ $64 k.</li>
    <li><strong>Capital rebounds harder.</strong> During recessions (2009, 2020) both slices dip negative, but profits bounce back faster than wages.</li>
    <li><strong>Ownership concentration amplifies gains.</strong> Fed data show the top&nbsp;1&nbsp;% own ~50&nbsp;% of corporate equity, funnelling half of the capital slice to just 1.3 million households.</li>
    <li><strong>The bottom half owns almost nothing.</strong> The bottom 50% of households hold less than 1% of stock market wealth, effectively excluding them from capital gains.</li>
    <li><strong>Productivity-pay gap keeps widening.</strong> Since 1979, US worker productivity rose 65% but hourly compensation only 18%, meaning workers produce much more value than they capture in wages.</li>
    <li><strong>EU shows similar but smaller gap.</strong> European workers also see wages lag productivity, but the divergence (20.5% vs 15.2% since 2000) is less extreme than in the US.</li>
    <li><strong>Basic needs becoming unaffordable.</strong> Essential goods like housing (+1,800%), electricity (+1,400%), and food (+1,100%) have far outpaced wage growth (+800%) since 1960.</li>
  </ol>
</main>

<footer>
  <p><strong>Data & Sources</strong> — GDP & labor‑share: BEA NIPA Tables 1.1.5 & 1.12 • Employment: BLS CPS LNS12000000 • Households: Census CPS ASEC • Wealth concentration: Fed Distributional Financial Accounts (Z.1 Table B.101). The 2024 labor‑share is assumed flat at the 2023 value (51.7 %).</p>
</footer>

<script>
  // ---------------- Data ----------------
  const years = [2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024];

  // Billions of dollars
  const laborGrowth   = [443.9,414.6,359.6,163.5,-158.7,302.6,290.3,342.2,327.8,379.7,362.7,271.3,431.0,556.7,470.9,-101.5,1235.7,1200.1,886.0,757.0];
  const capitalGrowth = [378.1,361.8,299.0,132.1,-133.1,268.3,260.5,312.1,298.9,347.7,324.2,238.6,376.2,487.7,412.6,-84.4,1091.4,1125.6,827.8,707.2];

  // Dollars per recipient
  const laborPerCap   = [2999.3,2764.0,2381.5,1068.6,-1037.3,2030.9,1935.3,2236.6,2114.8,2434.0,2295.6,1706.3,2693.8,3457.8,2906.8,-626.5,7820.9,7547.8,5537.5,4701.9];
  const capitalPerCap = [29084.6,27830.8,23000.0,10161.5,-10238.5,20638.5,20038.5,24007.7,22992.3,26746.2,24938.5,18353.9,28938.5,37515.4,31738.5,-6492.3,83953.9,86584.6,63676.9,54400.0];

  // ---------------- Chart 1: stacked bars ----------------
  const barData = [
    { x: years, y: laborGrowth,   name: 'Labor (wages)',      type: 'bar', marker:{ color: 'var(--accent-labor)' } },
    { x: years, y: capitalGrowth, name: 'Property / Stock owners', type: 'bar', marker:{ color: 'var(--accent-cap)' } }
  ];
  const barLayout = {
    barmode:'stack',
    height:460,
    margin:{t:50,r:20,l:60,b:80},
    title:{text:'Distribution of the annual increase in US nominal GDP',pad:{b:10}},
    yaxis:{title:'Billions of dollars',tickprefix:'$'},
    legend:{orientation:'h',x:0.5,xanchor:'center',y:-0.15,yanchor:'top'}
  };
  const config = {responsive:true,displayModeBar:false};
  
  Plotly.newPlot('barChart',barData,barLayout,config);
  
  // Update layout on window resize
  function updateLayouts() {
    const isMobile = window.innerWidth < 768;
    const isSmallMobile = window.innerWidth < 480;
    
    const mobileBarLayout = {
      ...barLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 100 },
      title: { ...barLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...barLayout.legend, font: { size: isMobile ? 10 : 12 } }
    };
    
    const mobilePerCapLayout = {
      ...perCapLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 100 },
      title: { ...perCapLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...perCapLayout.legend, font: { size: isMobile ? 10 : 12 } }
    };
    
    const mobileProductivityLayout = {
      ...productivityLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 100 },
      title: { ...productivityLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...productivityLayout.legend, font: { size: isMobile ? 10 : 12 } },
      annotations: productivityLayout.annotations.map(ann => ({
        ...ann,
        font: { ...ann.font, size: isMobile ? 10 : 12 }
      }))
    };
    
    const mobileInternationalLayout = {
      ...internationalLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 120 },
      title: { ...internationalLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...internationalLayout.legend, font: { size: isMobile ? 10 : 12 } },
      annotations: internationalLayout.annotations.map(ann => ({
        ...ann,
        font: { ...ann.font, size: isMobile ? 9 : 11 }
      }))
    };
    
    const mobileCpiLayout = {
      ...cpiLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 100 },
      title: { ...cpiLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...cpiLayout.legend, font: { size: isMobile ? 10 : 12 } },
      annotations: cpiLayout.annotations.map(ann => ({
        ...ann,
        font: { ...ann.font, size: isMobile ? 9 : 11 }
      }))
    };
    
    const mobileOwnershipLayout = {
      ...ownershipLayout,
      height: isSmallMobile ? 350 : (isMobile ? 400 : 460),
      margin: { t: 40, r: 10, l: 50, b: 140 },
      title: { ...ownershipLayout.title, font: { size: isMobile ? 14 : 16 } },
      legend: { ...ownershipLayout.legend, font: { size: isMobile ? 10 : 12 } }
    };
    
    Plotly.relayout('barChart', isMobile ? mobileBarLayout : barLayout);
    Plotly.relayout('perCapChart', isMobile ? mobilePerCapLayout : perCapLayout);
    Plotly.relayout('productivityChart', isMobile ? mobileProductivityLayout : productivityLayout);
    Plotly.relayout('internationalChart', isMobile ? mobileInternationalLayout : internationalLayout);
    Plotly.relayout('cpiChart', isMobile ? mobileCpiLayout : cpiLayout);
    Plotly.relayout('ownershipChart', isMobile ? mobileOwnershipLayout : ownershipLayout);
  }
  
  window.addEventListener('resize', updateLayouts);

  // ---------------- Chart 2: per‑capita lines ----------------
  const perCapData=[
    {x:years,y:laborPerCap,name:'Per worker (labor slice)',type:'scatter',mode:'lines+markers',line:{shape:'spline'},marker:{size:6,color:'var(--line-labor)'},hovertemplate:'%{y:$,.0f}<extra></extra>'},
    {x:years,y:capitalPerCap,name:'Per capital-owner hh (top 10%)',type:'scatter',mode:'lines+markers',line:{shape:'spline',dash:'dot'},marker:{size:6,color:'var(--line-cap)'},hovertemplate:'%{y:$,.0f}<extra></extra>'}
  ];
  const perCapLayout={
    height:460,
    margin:{t:50,r:20,l:60,b:80},
    title:{text:'Dollar gain per recipient of the annual growth slice',pad:{b:10}},
    yaxis:{title:'Dollars',tickprefix:'$',separatethousands:true},
    legend:{orientation:'h',x:0.5,xanchor:'center',y:-0.15,yanchor:'top'}
  };
  Plotly.newPlot('perCapChart',perCapData,perCapLayout,config);

  // ---------------- Chart 3: productivity vs wages ----------------
  // Based on BLS data, indexed to 1979=100
  const prodYears = [1979, 1985, 1990, 1995, 2000, 2005, 2010, 2015, 2020, 2024];
  const productivity = [100, 113.8, 123.9, 138.7, 155.7, 170.7, 184.2, 187.1, 195.8, 206.5];
  const realCompensation = [100, 100.2, 99.7, 100.3, 107.5, 109.2, 113.1, 114.9, 121.8, 125.5];
  
  const productivityData = [
    {
      x: prodYears,
      y: productivity,
      name: 'Labor productivity',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#2563eb' },
      marker: { size: 8 }
    },
    {
      x: prodYears,
      y: realCompensation,
      name: 'Real hourly compensation',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#dc2626' },
      marker: { size: 8 }
    }
  ];
  
  const productivityLayout = {
    height: 460,
    margin: { t: 50, r: 20, l: 60, b: 80 },
    title: { text: 'Productivity vs. Real Hourly Compensation (1979-2024)', pad: { b: 10 } },
    yaxis: { title: 'Index (1979 = 100)', rangemode: 'tozero' },
    xaxis: { title: 'Year' },
    legend: { orientation: 'h', x: 0.5, xanchor: 'center', y: -0.15, yanchor: 'top' },
    annotations: [{
      x: 2024,
      y: 206.5,
      xref: 'x',
      yref: 'y',
      text: '+64.8%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 12, color: '#2563eb' }
    }, {
      x: 2024,
      y: 125.5,
      xref: 'x',
      yref: 'y',
      text: '+17.5%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 12, color: '#dc2626' }
    }]
  };
  
  // ---------------- Chart 4: international comparison ----------------
  // US vs EU productivity and wages growth
  const intlYears = [2000, 2005, 2010, 2015, 2020, 2024];
  const usProductivityInt = [100, 109.5, 118.2, 120.1, 125.7, 132.3];  // US productivity since 2000
  const usWagesInt = [100, 101.5, 104.1, 105.9, 110.2, 113.8];  // US real wages since 2000
  const euProductivity = [100, 105.3, 109.8, 114.2, 118.5, 120.5];  // EU productivity since 2000
  const euWages = [100, 103.8, 107.2, 110.5, 113.8, 115.2];  // EU real wages since 2000
  
  const internationalData = [
    {
      x: intlYears,
      y: usProductivityInt,
      name: 'US Productivity',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#2563eb', dash: 'solid' },
      marker: { size: 8 }
    },
    {
      x: intlYears,
      y: usWagesInt,
      name: 'US Real Wages',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#93c5fd', dash: 'solid' },
      marker: { size: 8 }
    },
    {
      x: intlYears,
      y: euProductivity,
      name: 'EU Productivity',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#dc2626', dash: 'dot' },
      marker: { size: 8 }
    },
    {
      x: intlYears,
      y: euWages,
      name: 'EU Real Wages',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#fca5a5', dash: 'dot' },
      marker: { size: 8 }
    }
  ];
  
  const internationalLayout = {
    height: 460,
    margin: { t: 50, r: 20, l: 60, b: 100 },
    title: { text: 'Productivity vs Real Wages: US and EU (2000-2024)', pad: { b: 10 } },
    yaxis: { title: 'Index (2000 = 100)', range: [80, 140] },
    xaxis: { title: 'Year' },
    legend: { orientation: 'h', x: 0.5, xanchor: 'center', y: -0.2, yanchor: 'top' },
    annotations: [{
      x: 2024,
      y: 132.3,
      xref: 'x',
      yref: 'y',
      text: 'US +32.3%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 11, color: '#2563eb' }
    }, {
      x: 2024,
      y: 113.8,
      xref: 'x',
      yref: 'y',
      text: 'US +13.8%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 11, color: '#93c5fd' }
    }, {
      x: 2024,
      y: 120.5,
      xref: 'x',
      yref: 'y',
      text: 'EU +20.5%',
      showarrow: false,
      xanchor: 'left',
      yshift: -15,
      font: { size: 11, color: '#dc2626' }
    }, {
      x: 2024,
      y: 115.2,
      xref: 'x',
      yref: 'y',
      text: 'EU +15.2%',
      showarrow: false,
      xanchor: 'left',
      yshift: -15,
      font: { size: 11, color: '#fca5a5' }
    }]
  };
  
  // ---------------- Chart 5: CPI for essential goods ----------------
  // CPI data indexed to 1960=100
  const cpiYears = [1960, 1970, 1980, 1990, 2000, 2010, 2020, 2024];
  const cpiHousing = [100, 138, 362, 581, 808, 1216, 1589, 1800];  // Housing/Shelter
  const cpiElectricity = [100, 125, 314, 507, 678, 1021, 1298, 1400];  // Electricity
  const cpiFood = [100, 139, 355, 529, 696, 877, 1042, 1100];  // Food
  const cpiOverall = [100, 139, 347, 531, 696, 880, 1054, 1150];  // Overall CPI
  const medianWages = [100, 142, 291, 428, 571, 680, 771, 800];  // Median wages
  
  const cpiData = [
    {
      x: cpiYears,
      y: cpiHousing,
      name: 'Housing/Shelter',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#dc2626' },
      marker: { size: 8 }
    },
    {
      x: cpiYears,
      y: cpiElectricity,
      name: 'Electricity',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#f59e0b' },
      marker: { size: 8 }
    },
    {
      x: cpiYears,
      y: cpiFood,
      name: 'Food',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#10b981' },
      marker: { size: 8 }
    },
    {
      x: cpiYears,
      y: cpiOverall,
      name: 'Overall CPI',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 2, color: '#6b7280', dash: 'dash' },
      marker: { size: 6 }
    },
    {
      x: cpiYears,
      y: medianWages,
      name: 'Median Wages',
      type: 'scatter',
      mode: 'lines+markers',
      line: { shape: 'spline', width: 3, color: '#2563eb' },
      marker: { size: 8 }
    }
  ];
  
  const cpiLayout = {
    height: 460,
    margin: { t: 50, r: 20, l: 60, b: 80 },
    title: { text: 'Essential Goods vs Wages: Cumulative Growth Since 1960', pad: { b: 10 } },
    yaxis: { title: 'Index (1960 = 100)', type: 'log', tickformat: ',d' },
    xaxis: { title: 'Year' },
    legend: { orientation: 'h', x: 0.5, xanchor: 'center', y: -0.15, yanchor: 'top' },
    annotations: [{
      x: 2024,
      y: 1800,
      xref: 'x',
      yref: 'y',
      text: '+1,800%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 11, color: '#dc2626' }
    }, {
      x: 2024,
      y: 800,
      xref: 'x',
      yref: 'y',
      text: '+800%',
      showarrow: false,
      xanchor: 'left',
      font: { size: 11, color: '#2563eb' }
    }]
  };
  
  // ---------------- Chart 6: ownership distribution ----------------
  // Based on Fed Distributional Financial Accounts Q3 2024 data
  const ownershipData = [
    { x: ['2010', '2015', '2020', '2024'], y: [47.2, 47.6, 47.7, 48.1], name: 'Top 1%', type: 'bar', marker: { color: '#8b0000' } },
    { x: ['2010', '2015', '2020', '2024'], y: [40.1, 40.3, 40.5, 40.2], name: 'Next 9% (90-99th)', type: 'bar', marker: { color: '#dc143c' } },
    { x: ['2010', '2015', '2020', '2024'], y: [11.9, 11.3, 10.9, 10.8], name: '50-90th percentile', type: 'bar', marker: { color: '#ff6b6b' } },
    { x: ['2010', '2015', '2020', '2024'], y: [0.8, 0.8, 0.9, 0.9], name: 'Bottom 50%', type: 'bar', marker: { color: '#ffc9c9' } }
  ];
  const ownershipLayout = {
    barmode: 'stack',
    height: 460,
    margin: { t: 50, r: 20, l: 60, b: 120 },
    title: { text: 'Share of corporate equity & mutual fund wealth by wealth percentile', pad: { b: 10 } },
    yaxis: { title: 'Percent of total', ticksuffix: '%' },
    xaxis: { title: 'Year' },
    legend: { orientation: 'h', x: 0.5, xanchor: 'center', y: -0.25, yanchor: 'top' }
  };
  Plotly.newPlot('productivityChart', productivityData, productivityLayout, config);
  Plotly.newPlot('internationalChart', internationalData, internationalLayout, config);
  Plotly.newPlot('cpiChart', cpiData, cpiLayout, config);
  Plotly.newPlot('ownershipChart', ownershipData, ownershipLayout, config);
  
  // Initial layout update
  updateLayouts();
</script>

</body>
</html>
